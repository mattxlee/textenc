# Text encrypt/decrypt tool

This tool uses AES-128-CTR to encrypt your data and employs scrypt to derive the encryption key from your password. It is very simple to use: simply provide the file to be encrypted, specify the output filename, and enter your password. The output file contains the encrypted data in JSON format.

# Examples

Run `textenc --help` to get help information.

## Encrypt

Follow the steps to encrypt your file and enter your password.

1. Run `textenc encrypt --input-file ./hello.txt --output-file ./encrypted.json`

2. Enter the password

3. Done. The file `encrypted.json` will store the encrypted data with required parameters

**Password generation**

You can also use the `-g` option to generate a new password. When the encryption is complete, the `uuid` and the generated password will be printed to the console. Make sure to write down the password and keep it safe.

Example:

```sh
textenc encrypt --input-file ./hello.txt --output-file ./encrypted.json -g
```

**Verification**

After encryption, the program will immediately decrypt the output data and compare it to the source data to verify the encryption's accuracy. The result will be printed to the console. You can disable this verification process by using the `--verify=false` option, but it is highly recommended to keep it enabled.

## Decrypt

Follow the steps to decrypt your file.

1. Run `textenc decrypt --input-file ./encrypted.json --output-file ./hello2.txt`

2. Enter the password

3. Done. The file `hello2.txt` will store the decrypted data

## Example of output file

```json
{
  "id": "9b9b2551-f0f9-4c02-8c0c-8dfbbed624b4",
  "description": "`src/main.rs` encrypted with password 'hello world!'",
  "crypto": {
    "kdf": "scrypt",
    "kdfparams": {
      "dklen": 32,
      "salt": "d0983741c5dc3423a65a1900b1fcc23384692cfc66aa80866cef1f7011a00b9b",
      "log_n": 16,
      "n": 65536,
      "r": 8,
      "p": 1
    },
    "cipher": "aes-128-ctr",
    "ciphertext": "0fe2f3bbe7d75d2a5ccde1103432d9264121b14312debfff027b34d0ace5f1cc307e80e09731c7186fdf2c373d2745c65bdfa73d1b5e541b87ddc03354e63f80a8f110a7a76d6e49208c5da30195801b64ef5b8ed2455903d56e08605212478159dc568188b5eba51fb6963a4d49abd0319114b26044808c3b312788cb280a622c0ebb13489f48b1c2b59f4f05ae577bfc44d29a1c14bf1e6c2d258d8a2060fe511e1c249363d64814e5a9ed85e5d1556f31e2e9732798983f7f10926a07a8739ae4091d038c92c87d0c1345abeda36239d3c2c134ac2c8f955515e30d896f73ddc8fbc77906a0ca6f6f6675ea158e1374d1e2a901b35debc789f4a09d1de8bac7825187cf7d0de4d284292263a4cf9cd926b7cb694bd0bbbe053c0a79be932b7c5cd99654eaf91aaedbfc2459f37f985663a33be38a388f7c344aab6884fba5917109759d88cf034479c0f929877ed76d787c6b5530413f4d5a077795d98d1fe2d0b417e0a5e9d3bf4f1b6e683d80a61ee2b28af46066257e2474da39ebd9acbf8d081787a3509bbd8cf964fcc3bf293978ae4d9bd72c136cd061f9380b311ecc8a1284753a39477c5e989ec4d27d019f2b446b93bfbb53a3200ad247c4b41b5a137254bf7e62855141313752e6b0001bdd51adf7d2b139c28dea05b7835db29ca4303c264f9bf9e508c8e14dfba95b72b7fe7575f7f7419c6c563a3976e7fc2582c40f844ca4840d9d4fd10ae292069ff82b843c7ab1ffd0eb4de29320d3cace80e896dfb4e5dfff7da4788141e06ea8e19ac86311ad10390e8730ff26859fde751163b5edfda97df376cda9e05d2ec23b634fa10256b12811dfe309ffc6a0fe7d2b23945ca1b0ff3a04ac0b9be8499bbc1e6888461c04f8c534e72bfe51eb5bbb2fc2305e18ee221304d4286337bfa1c780f0a7e4e6bba5c67f8546059ec0dd39fbe5071692143adbcdda91bf99e256c3b73b115a443e7c325cf4661fdf3a7442d745ef0a702a4c6345c50eee22367a58ffa9365282789ba64b4f5411cfedd013e73cbb886c100051c30e51fba79c23338e72462665deff24035376f96365a7ea4c727502aa56c6d1f09f33e7586ef541b40528ad5283fec3aa37051bf9ac865965c93ecea8251231e2ccedf2a9566be9dd805ec4dc5fe77ce752b31eaa6f6847c198aeadbc17b6241f061afcf0a81e1a1b10c8b0db492df38a457876e785af94f3cafbc59fd1f0293a6996d68ff98a31dce88d6e06692c2176ea2287986b82dbcea458c5b2989644771fb3f6d019e006d39660994d7ec6c1ac469afb85fd738f72a19a706ec83017a4ef3e62ef0896be46b26c2cb50bad499db5f1b77b9e5a0158a1bc09a3eb9f40979b2f343fd8c730eaa0139992f958449de7f52a80b446bfbb69650e562b2a00ecb025dcf42322388ce370572309733e6c0be8ea05606387639f1c0bcb26ffef85370ee3e2d7fe250d4ad471d5ca3eb6d315dd30b249c42aa4cde60f32a30e06f8843fb48ea17ecbe5acb31f76b5e5beb552c4daf6a3dcfd496d4a1288ffe14cb79d01a06fce3d4af3d52a24bed12674606bd4201bec8d0df474e41b01dc4a315fd43d6c423bd598b2bfc673fa528f1156ddaf4cbc61f2af5d55e64fca56eff2ea3c7c0108d4abd76a63e85697e64e5ef9f1bf02f7e22551e69f9fb7cc2816f81c62d68df25344354b54cc80e40b107c7255ea7ad51c477749ef9d245b0fb7b0b4a183b340002e1c57c52d8720b61a024c6d79eba0fc77d531ddf151b9b33d5247b4a7994512adc0b3e9ec5570d536eaea883fb9459b601b557d3c1e0fa28f25a919e711f7a87de09506a2311491aff0ca5383b6f69b07cd8e80bf5b9ce80135c4e80bd201b3e2737bd2f7cfacab79ab582f81d7485ffdceb222fcf7ba57e8d6cfce131ac9ece63e6a599c2b406c2fec006fd95aebb1c8ea59d34a2f33d5d968ee9ce30780cabe0466e181ed307d9497aed5e6241ce81383adaa635de015ba63ad4afad5cf7287fa55866cdf7961b248294baca26c7a5e40d3165ed4991219e14dc1fb77a5dd8e8cb45620fa4b49ef1211d348436318daf844071f6677b30666d1e52755c1df5dc60ca6b6faef7846474d0c66cdb6d34968bf1628008d0180e171cd5920572e691ea2f541d3a888fe9cecc6d357cd914520a1a8469e3fa69ef35e2a25b985ffc2286887e8d9ad743e458dc3d1b23dd5125a0994e8292e16d3b4a8c025c56e1cbd8557648078729d29b17750adbf668dac6fcf2e11358fef666e80ad054c407bfd7afb3d485ae86f850ca5172755fb6b481b32e6a557a488b7c42f8c6962655ff001afaedbe6f2986b246f538f2bcfa8f0fb3a88c6862bd6e05211b35c3e8c3d3c5ee19c3aea4dd6602ac33705c6499012235164583178955959354ce21aa1d7f3908b5afb268424e13fbb70956ffec4b9aa453ad14ff0bb8c51e7ae60a517d05886462ce51a6ad99c03d45ff842d3e9b24a1481f0bfabde39fbe460946a34a528820cb75a1aa4a651ef278750829a9887a7cbf4c0ecc7b27c4ee46efe114543742ac994a5f39fd1d86fdf887198ae7f68f52ddc1c5d61d321c7717bebe0724149e5ed59065222fdf0039acef7f1dfb8412dbb75c1b1bd93e9ef4a67f6648bdd3343493686fc02bd1f7535c0454123b5f2ed080f55368580e23a9e45ea4076670580356517c87cb9092c02b869d9a76ca5227bf606e2d4a1970d0d368fde557a3b8f286781669851fc3febacf086691ec292262e61bfc11dbaad35fafb03b5fc4e1033e730532c59a82f7061d34614d9a55a34776ce0f0d85e9e3fff64741c9566cfb34ea793ed3e9921b19dc8d583a174231ad8533dd2d33e89b2945a10c1c3d3f478e21c0008365e3b2f70bc4fb0dd7c655bcb18f8db6d24e6b2ec832232a59ead5078d86b3b4a3b4d7556b971effd47de543b9954fe6ac972b85e0951ee6823ab3271118074bb8c19812e34c80732eb6a78f3335d3116e2f62693f40858fe8dd8905c1007190b447bedf916af003541b638f5508827d1ad582d67e242459b1f82b96657c5ac5acdcae00b83a998b34e2dd38c1112aaa1527fd7a20d4fbc907d1869883440de70de10a920ea8a96448dfa0b2c8f6c3250eb9a10e0d92438d19b8be0548cc8dfb8275bfe48575a85cc31e0e9105c843982adac8adc87475d21f9a934b33c9cd57e4316c44747f96468103004d85e40024deb88563b36245101bbe0c97e85149d160eb022b41d36f1d8a4e641ade8ef7563162830df6993ed212a98a64700c8756d911a6963e2bb0c15fa4318913e687179e48167141eb4b9048952dc899ee3960d23fbd703c2f8e2df0c524afd24791964ec67c36d4906c4798e4a49a149263c1a46672fd552216ca873cbef44be89b45a90edb48ab412c3d44cf0247ee60177ecffdc96cbcabcd5598f9bd7d16c83dc9b89989da399333e19ae0990428673094e5344a2a222cdf873ae324c48a2cbd444d20e49ff6c5bb3bfe4ebb214b65df5b773975886c9cbbfb91973c2a09c309a191dbc3039a7676a03667e949ff7922f30e4a1ca48d29f340400e1a76c5f9d937cbbe07b50561bd552416f82eaa72e47fbd089240c6611d0a24c5c75e600edde1392d2a70ff1a4692f48c3699f580b567cc7276f7a992bb6629fda99367d086624a3cf6c898be9f5146cc1dce5199b9f39d67e61b8735fab995d7adec4b00bd617ea105882cc8ae351486be28adce1a5d3579255976fffd418c85020279af14553822923855495bc77aacf21dbf6a9dd90311bd0510dd725f0744e4e70c24a2d275790b14a82ce34e72c167c3f63057b3d69aaccb78d69ffc7df33933374c0f6a1d14201666c0fb4c0fcf12d8e2e937fc57bf89a575e1f94df2f576aabcb7fe5e43775c74a5eb2fd09e52c4e73db825bdec46482fe1bb9c730aef0f3d431a19101bd0ac377f19536ff107bb5591558113c6e161d5e",
    "cipherparams": {
      "iv": "52df9a46304fa0df22fb6e60d75e2f31"
    },
    "mac": "11c77bf25b7168c5a5ea3636a604de93113d67817c3cb78b1fd69f5ddaee64bd"
  }
}
```

# How to compile?

* Install Rust

* Run `cargo build`

# How to test?

* Install Rust

* Run `cargo test`
